{"ast":null,"code":"/**\r\n * Constructs a consistent IPFS URL for a given hash\r\n * @param {string} hash - The IPFS hash/CID\r\n * @returns {string} - The complete IPFS URL\r\n */\nexport const getIpfsUrl = hash => {\n  if (!hash) return '';\n\n  // Always use local gateway as per requirements\n  const gateway = 'http://localhost:8080/ipfs/';\n  return `${gateway}${hash}`;\n};\n\n/**\r\n * Get alternative IPFS URLs for a given hash\r\n * @param {string} hash - The IPFS hash/CID\r\n * @returns {Array} - Array of IPFS URLs using different gateways\r\n */\nexport const getAlternativeIpfsUrls = hash => {\n  if (!hash) return [];\n\n  // Keep this function for reference, but we'll only use local gateway\n  return [`http://localhost:8080/ipfs/${hash}`];\n};\n\n/**\r\n * Checks if an image URL is accessible\r\n * @param {string} url - The URL to check\r\n * @returns {Promise<boolean>} - Promise resolving to true if accessible, false otherwise\r\n */\nexport const isImageAccessible = url => {\n  return new Promise(resolve => {\n    const img = new Image();\n    img.onload = () => resolve(true);\n    img.onerror = () => resolve(false);\n    img.src = url;\n\n    // Set a timeout to resolve false if the image takes too long to load\n    setTimeout(() => resolve(false), 5000);\n  });\n};\n\n/**\r\n * Get the best available IPFS URL for an image\r\n * @param {string} hash - The IPFS hash/CID\r\n * @returns {Promise<string>} - Promise resolving to the local URL\r\n */\nexport const getBestIpfsUrl = async hash => {\n  if (!hash) return '';\n\n  // Always use local gateway as per requirements\n  return `http://localhost:8080/ipfs/${hash}`;\n};","map":{"version":3,"names":["getIpfsUrl","hash","gateway","getAlternativeIpfsUrls","isImageAccessible","url","Promise","resolve","img","Image","onload","onerror","src","setTimeout","getBestIpfsUrl"],"sources":["C:/Users/Erwachens/Desktop/MyProject/frontend/src/util/ipfs.js"],"sourcesContent":["/**\r\n * Constructs a consistent IPFS URL for a given hash\r\n * @param {string} hash - The IPFS hash/CID\r\n * @returns {string} - The complete IPFS URL\r\n */\r\nexport const getIpfsUrl = (hash) => {\r\n  if (!hash) return '';\r\n  \r\n  // Always use local gateway as per requirements\r\n  const gateway = 'http://localhost:8080/ipfs/';\r\n    \r\n  return `${gateway}${hash}`;\r\n};\r\n\r\n/**\r\n * Get alternative IPFS URLs for a given hash\r\n * @param {string} hash - The IPFS hash/CID\r\n * @returns {Array} - Array of IPFS URLs using different gateways\r\n */\r\nexport const getAlternativeIpfsUrls = (hash) => {\r\n  if (!hash) return [];\r\n  \r\n  // Keep this function for reference, but we'll only use local gateway\r\n  return [\r\n    `http://localhost:8080/ipfs/${hash}`\r\n  ];\r\n};\r\n\r\n/**\r\n * Checks if an image URL is accessible\r\n * @param {string} url - The URL to check\r\n * @returns {Promise<boolean>} - Promise resolving to true if accessible, false otherwise\r\n */\r\nexport const isImageAccessible = (url) => {\r\n  return new Promise((resolve) => {\r\n    const img = new Image();\r\n    img.onload = () => resolve(true);\r\n    img.onerror = () => resolve(false);\r\n    img.src = url;\r\n    \r\n    // Set a timeout to resolve false if the image takes too long to load\r\n    setTimeout(() => resolve(false), 5000);\r\n  });\r\n};\r\n\r\n/**\r\n * Get the best available IPFS URL for an image\r\n * @param {string} hash - The IPFS hash/CID\r\n * @returns {Promise<string>} - Promise resolving to the local URL\r\n */\r\nexport const getBestIpfsUrl = async (hash) => {\r\n  if (!hash) return '';\r\n  \r\n  // Always use local gateway as per requirements\r\n  return `http://localhost:8080/ipfs/${hash}`;\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,UAAU,GAAIC,IAAI,IAAK;EAClC,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;;EAEpB;EACA,MAAMC,OAAO,GAAG,6BAA6B;EAE7C,OAAO,GAAGA,OAAO,GAAGD,IAAI,EAAE;AAC5B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAME,sBAAsB,GAAIF,IAAI,IAAK;EAC9C,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;;EAEpB;EACA,OAAO,CACL,8BAA8BA,IAAI,EAAE,CACrC;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMG,iBAAiB,GAAIC,GAAG,IAAK;EACxC,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9B,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,GAAG,CAACE,MAAM,GAAG,MAAMH,OAAO,CAAC,IAAI,CAAC;IAChCC,GAAG,CAACG,OAAO,GAAG,MAAMJ,OAAO,CAAC,KAAK,CAAC;IAClCC,GAAG,CAACI,GAAG,GAAGP,GAAG;;IAEb;IACAQ,UAAU,CAAC,MAAMN,OAAO,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;EACxC,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMO,cAAc,GAAG,MAAOb,IAAI,IAAK;EAC5C,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;;EAEpB;EACA,OAAO,8BAA8BA,IAAI,EAAE;AAC7C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}