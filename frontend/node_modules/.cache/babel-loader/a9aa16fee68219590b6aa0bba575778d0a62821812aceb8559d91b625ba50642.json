{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Erwachens\\\\Desktop\\\\MyProject\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { useImages } from '../context/ImageContext';\nimport Navbar from '../components/common/Navbar';\nimport { normalizeIpfsHash } from '../util/ipfs';\n\n// Local IPFS gateway URL\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LOCAL_GATEWAY = 'http://127.0.0.1:8080/ipfs/';\n\n// Function to get IPFS URL from hash\nconst getIpfsUrl = hash => {\n  const normalizedHash = normalizeIpfsHash(hash);\n  if (!normalizedHash) return '';\n  return `${LOCAL_GATEWAY}${normalizedHash}`;\n};\nconst Dashboard = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const {\n    myImages,\n    loading,\n    error,\n    pagination,\n    getMyImages,\n    getImageDownloadLink,\n    downloadImageFile,\n    nextPage,\n    previousPage,\n    goToPage\n  } = useImages();\n\n  // Add state to track loading status of individual images\n  const [imageLoadingStates, setImageLoadingStates] = useState({});\n\n  // Enhanced queue for limiting concurrent API requests with retry and backoff\n  const requestQueue = React.useRef({\n    queue: [],\n    running: 0,\n    maxConcurrent: 2,\n    // Limit to 2 concurrent requests\n    maxRetries: 3,\n    // Maximum number of retries per request\n\n    add(fn, priority = false, retryCount = 0) {\n      const queueItem = {\n        fn,\n        retryCount\n      };\n\n      // Add high priority items to the front of the queue\n      if (priority) {\n        this.queue.unshift(queueItem);\n      } else {\n        this.queue.push(queueItem);\n      }\n      this.processQueue();\n    },\n    async processQueue() {\n      if (this.running >= this.maxConcurrent || this.queue.length === 0) {\n        return;\n      }\n      this.running++;\n      const {\n        fn,\n        retryCount\n      } = this.queue.shift();\n      try {\n        await fn();\n      } catch (error) {\n        console.error(\"Error in queue processing:\", error);\n\n        // Implement retry with exponential backoff\n        if (retryCount < this.maxRetries) {\n          console.log(`Retrying request (attempt ${retryCount + 1} of ${this.maxRetries})...`);\n\n          // Calculate backoff delay: 2^retryCount * 1000ms (1s, 2s, 4s, etc.)\n          const backoffDelay = Math.min(Math.pow(2, retryCount) * 1000, 10000);\n          setTimeout(() => {\n            // Re-add the failed request to the queue with increased retry count\n            this.add(fn, false, retryCount + 1);\n          }, backoffDelay);\n        }\n      } finally {\n        this.running--;\n\n        // Add a small delay between requests to prevent overwhelming the server\n        setTimeout(() => {\n          this.processQueue();\n        }, 100);\n      }\n    },\n    // Clear the queue (useful when component unmounts)\n    clear() {\n      this.queue = [];\n    }\n  });\n\n  // Reference to track if the component is mounted\n  const isMounted = React.useRef(true);\n\n  // Clear the request queue when component unmounts\n  useEffect(() => {\n    // Store a reference to the current queue for cleanup\n    const currentQueue = requestQueue.current;\n    return () => {\n      isMounted.current = false;\n      currentQueue.clear();\n    };\n  }, []);\n\n  // Create a memoized version of the preload function to avoid recreating it on every render\n  const preloadImage = useCallback(async image => {\n    if (!isMounted.current) return;\n    setImageLoadingStates(prev => ({\n      ...prev,\n      [image.id]: true\n    }));\n    try {\n      await getImageDownloadLink(image.id);\n      if (!isMounted.current) return;\n      console.log(`Preloaded image ${image.id}`);\n    } catch (err) {\n      if (!isMounted.current) return;\n      console.error(`Failed to preload image ${image.id}:`, err);\n    } finally {\n      if (isMounted.current) {\n        setImageLoadingStates(prev => ({\n          ...prev,\n          [image.id]: false\n        }));\n      }\n    }\n  }, [getImageDownloadLink]);\n\n  // Track if initial load has happened\n  const initialLoadRef = React.useRef(false);\n\n  // Fetch user's images when component mounts or pagination changes\n  useEffect(() => {\n    // Skip if this is just a re-render and not a pagination change\n    if (initialLoadRef.current && pagination.currentPage === 1 && pagination.pageSize === 9 && myImages.length > 0) {\n      return;\n    }\n\n    // Set initial load flag\n    initialLoadRef.current = true;\n\n    // Use a debounce mechanism to prevent multiple rapid calls\n    const timeoutId = setTimeout(async () => {\n      if (!isMounted.current) return;\n      try {\n        // Load the current page of images\n        const response = await getMyImages(pagination.currentPage, pagination.pageSize);\n        if (!isMounted.current) return;\n        const images = response.results || [];\n        console.log(`Loaded ${images.length} images for page ${pagination.currentPage}`);\n\n        // Create a Set to track which images we've already started preloading\n        const preloadedImages = new Set();\n\n        // Preload images sequentially using the request queue to limit concurrent requests\n        // Only preload visible images to reduce unnecessary requests\n        images.forEach(image => {\n          if (!isMounted.current) return;\n\n          // Skip if we've already started preloading this image\n          if (preloadedImages.has(image.id)) {\n            return;\n          }\n\n          // Mark this image as being preloaded\n          preloadedImages.add(image.id);\n          requestQueue.current.add(async () => {\n            await preloadImage(image);\n          });\n        });\n      } catch (err) {\n        if (!isMounted.current) return;\n        console.error('Failed to load images:', err);\n      }\n    }, 300); // 300ms debounce delay\n\n    // Cleanup function to cancel any pending operations if the dependencies change\n    return () => {\n      clearTimeout(timeoutId);\n      requestQueue.current.clear();\n    };\n  }, [pagination.currentPage, pagination.pageSize, getMyImages, preloadImage, myImages.length]);\n\n  // eslint-disable-next-line no-unused-vars\n  const handleDownload = async imageId => {\n    try {\n      // First try the direct download method\n      console.log(`Attempting direct download for image ${imageId}`);\n      setImageLoadingStates(prev => ({\n        ...prev,\n        [imageId]: true\n      }));\n      const directResult = await downloadImageFile(imageId);\n      if (directResult.success) {\n        console.log(`Direct download successful for image ${imageId}`);\n\n        // If we got an objectUrl (blob), create a download link\n        if (directResult.objectUrl) {\n          // Create a temporary anchor element to trigger download\n          const link = document.createElement('a');\n          link.href = directResult.objectUrl;\n          link.setAttribute('download', `image-${imageId}.jpg`);\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n\n          // Clean up the object URL to avoid memory leaks\n          setTimeout(() => URL.revokeObjectURL(directResult.objectUrl), 100);\n          console.log(`Download initiated for image ${imageId} using blob`);\n        }\n        // If we got a fallback URL, open it in a new tab\n        else if (directResult.url) {\n          window.open(directResult.url, '_blank');\n          console.log(`Download initiated for image ${imageId} using fallback URL`);\n        }\n      } else {\n        // If direct download failed, fall back to the old method\n        console.log(`Direct download failed for image ${imageId}, falling back to link method`);\n        const response = await getImageDownloadLink(imageId);\n        console.log(`Download link response for image ${imageId}:`, response);\n\n        // Get the image from our state\n        const image = myImages.find(img => img.id === imageId);\n        if (!image) {\n          console.error(`Image ${imageId} not found in state`);\n          return;\n        }\n\n        // Get the best available URL (local or public)\n        let downloadUrl;\n        if (response.data && response.data.ipfsUrls && response.data.ipfsUrls.local) {\n          downloadUrl = response.data.ipfsUrls.local;\n          console.log(`Using local URL from response: ${downloadUrl}`);\n        } else if (response.data && response.data.ipfsUrl) {\n          // Fallback to the original URL if the new structure isn't available\n          downloadUrl = response.data.ipfsUrl;\n          console.log(`Using original URL from response: ${downloadUrl}`);\n        } else {\n          // If no URL is available, construct one from the hash using our utility\n          const hash = response.data && response.data.ipfsHash || image.ipfs_hash;\n          const normalizedHash = normalizeIpfsHash(hash);\n          downloadUrl = normalizedHash ? `${LOCAL_GATEWAY}${normalizedHash}` : '';\n          console.log(`Constructed URL from hash: ${downloadUrl}`);\n        }\n\n        // Create a temporary anchor element to trigger download\n        const link = document.createElement('a');\n        link.href = downloadUrl;\n        link.setAttribute('download', `image-${imageId}.jpg`);\n        link.setAttribute('target', '_blank');\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        console.log(`Download initiated for image ${imageId} using fallback method`);\n      }\n    } catch (err) {\n      console.error('Failed to download image:', err);\n      alert('Failed to download image. Please try again later.');\n    } finally {\n      setImageLoadingStates(prev => ({\n        ...prev,\n        [imageId]: false\n      }));\n    }\n  };\n\n  // Memoize the refresh image handler to prevent recreation on each render\n  const handleRefreshImage = useCallback(async image => {\n    // Set loading state\n    setImageLoadingStates(prev => ({\n      ...prev,\n      [image.id]: true\n    }));\n    try {\n      // Attempt to refresh the image by getting a new download link\n      await getImageDownloadLink(image.id);\n      console.log(`Successfully refreshed image ${image.id}`);\n    } catch (err) {\n      console.error(`Error refreshing image ${image.id}:`, err);\n    } finally {\n      setImageLoadingStates(prev => ({\n        ...prev,\n        [image.id]: false\n      }));\n    }\n  }, [getImageDownloadLink]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.username, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Role: \", user === null || user === void 0 ? void 0 : user.role]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/upload\",\n            className: \"btn\",\n            children: \"Upload New Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/analytics\",\n            className: \"btn\",\n            style: {\n              marginLeft: '10px'\n            },\n            children: \"Analytics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginTop: '30px'\n        },\n        children: \"My Images\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this), !loading && myImages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You haven't uploaded any images yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"image-grid\",\n        style: {\n          marginBottom: '20px'\n        },\n        children: myImages.map(image => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'relative'\n            },\n            children: [imageLoadingStates[image.id] ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '100%',\n                height: '200px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                backgroundColor: '#f0f0f0',\n                borderTopLeftRadius: '8px',\n                borderTopRightRadius: '8px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner\",\n                style: {\n                  width: '40px',\n                  height: '40px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              id: `img-${image.id}`,\n              src: getIpfsUrl(image.ipfs_hash),\n              alt: `ID: ${image.id}`,\n              style: {\n                width: '100%',\n                height: '200px',\n                objectFit: 'cover',\n                borderTopLeftRadius: '8px',\n                borderTopRightRadius: '8px'\n              },\n              onError: e => {\n                console.log(`Image ${image.id} failed to load, attempting to recover...`);\n\n                // Set loading state\n                setImageLoadingStates(prev => ({\n                  ...prev,\n                  [image.id]: true\n                }));\n\n                // Call the refresh image function to attempt recovery\n                handleRefreshImage(image);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                position: 'absolute',\n                top: '5px',\n                right: '5px',\n                background: 'rgba(255, 255, 255, 0.7)',\n                border: 'none',\n                borderRadius: '50%',\n                width: '30px',\n                height: '30px',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              onClick: () => handleRefreshImage(image),\n              title: \"Refresh image\",\n              disabled: imageLoadingStates[image.id],\n              children: imageLoadingStates[image.id] ? '⌛' : '↻'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Image #\", image.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Hash: \", image.sha256_hash.substring(0, 10), \"...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Uploaded: \", new Date(image.uploaded_at).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Deepfake: \", image.deepfake_label, \" (\", Math.round(image.deepfake_confidence * 100), \"%)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this)]\n        }, image.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), !loading && myImages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-controls\",\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          margin: '20px 0 40px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: previousPage,\n          disabled: !pagination.hasPrevious,\n          style: {\n            margin: '0 5px',\n            opacity: pagination.hasPrevious ? 1 : 0.5,\n            cursor: pagination.hasPrevious ? 'pointer' : 'not-allowed'\n          },\n          children: \"\\xAB Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '0 15px'\n          },\n          children: Array.from({\n            length: pagination.totalPages\n          }, (_, i) => i + 1).map(page => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => goToPage(page),\n            style: {\n              margin: '0 5px',\n              padding: '5px 10px',\n              border: page === pagination.currentPage ? '2px solid #007bff' : '1px solid #ccc',\n              borderRadius: '4px',\n              background: page === pagination.currentPage ? '#e6f2ff' : 'white',\n              cursor: 'pointer'\n            },\n            children: page\n          }, page, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: nextPage,\n          disabled: !pagination.hasNext,\n          style: {\n            margin: '0 5px',\n            opacity: pagination.hasNext ? 1 : 0.5,\n            cursor: pagination.hasNext ? 'pointer' : 'not-allowed'\n          },\n          children: \"Next \\xBB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }, this), !loading && myImages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '30px',\n          color: '#666'\n        },\n        children: [\"Showing page \", pagination.currentPage, \" of \", pagination.totalPages, \" (\", pagination.totalImages, \" total images)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"GOXQCzhehB16O7KS/4JoS+70i+w=\", false, function () {\n  return [useAuth, useImages];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useMemo","Link","useAuth","useImages","Navbar","normalizeIpfsHash","jsxDEV","_jsxDEV","Fragment","_Fragment","LOCAL_GATEWAY","getIpfsUrl","hash","normalizedHash","Dashboard","_s","user","myImages","loading","error","pagination","getMyImages","getImageDownloadLink","downloadImageFile","nextPage","previousPage","goToPage","imageLoadingStates","setImageLoadingStates","requestQueue","useRef","queue","running","maxConcurrent","maxRetries","add","fn","priority","retryCount","queueItem","unshift","push","processQueue","length","shift","console","log","backoffDelay","Math","min","pow","setTimeout","clear","isMounted","currentQueue","current","preloadImage","image","prev","id","err","initialLoadRef","currentPage","pageSize","timeoutId","response","images","results","preloadedImages","Set","forEach","has","clearTimeout","handleDownload","imageId","directResult","success","objectUrl","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","URL","revokeObjectURL","url","window","open","find","img","downloadUrl","data","ipfsUrls","local","ipfsUrl","ipfsHash","ipfs_hash","alert","handleRefreshImage","children","fileName","_jsxFileName","lineNumber","columnNumber","className","username","role","style","marginTop","to","marginLeft","marginBottom","map","position","width","height","display","alignItems","justifyContent","backgroundColor","borderTopLeftRadius","borderTopRightRadius","src","alt","objectFit","onError","e","top","right","background","border","borderRadius","cursor","onClick","title","disabled","sha256_hash","substring","Date","uploaded_at","toLocaleString","deepfake_label","round","deepfake_confidence","margin","hasPrevious","opacity","Array","from","totalPages","_","i","page","padding","hasNext","textAlign","color","totalImages","_c","$RefreshReg$"],"sources":["C:/Users/Erwachens/Desktop/MyProject/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useMemo } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useImages } from '../context/ImageContext';\r\nimport Navbar from '../components/common/Navbar';\r\nimport { normalizeIpfsHash } from '../util/ipfs';\r\n\r\n// Local IPFS gateway URL\r\nconst LOCAL_GATEWAY = 'http://127.0.0.1:8080/ipfs/';\r\n\r\n// Function to get IPFS URL from hash\r\nconst getIpfsUrl = (hash) => {\r\n  const normalizedHash = normalizeIpfsHash(hash);\r\n  if (!normalizedHash) return '';\r\n  return `${LOCAL_GATEWAY}${normalizedHash}`;\r\n};\r\n\r\nconst Dashboard = () => {\r\n  const { user } = useAuth();\r\n  const { \r\n    myImages, \r\n    loading, \r\n    error, \r\n    pagination,\r\n    getMyImages, \r\n    getImageDownloadLink,\r\n    downloadImageFile,\r\n    nextPage,\r\n    previousPage,\r\n    goToPage\r\n  } = useImages();\r\n\r\n  // Add state to track loading status of individual images\r\n  const [imageLoadingStates, setImageLoadingStates] = useState({});\r\n\r\n  // Enhanced queue for limiting concurrent API requests with retry and backoff\r\n  const requestQueue = React.useRef({\r\n    queue: [],\r\n    running: 0,\r\n    maxConcurrent: 2, // Limit to 2 concurrent requests\r\n    maxRetries: 3,    // Maximum number of retries per request\r\n    \r\n    add(fn, priority = false, retryCount = 0) {\r\n      const queueItem = { fn, retryCount };\r\n      \r\n      // Add high priority items to the front of the queue\r\n      if (priority) {\r\n        this.queue.unshift(queueItem);\r\n      } else {\r\n        this.queue.push(queueItem);\r\n      }\r\n      \r\n      this.processQueue();\r\n    },\r\n    \r\n    async processQueue() {\r\n      if (this.running >= this.maxConcurrent || this.queue.length === 0) {\r\n        return;\r\n      }\r\n      \r\n      this.running++;\r\n      const { fn, retryCount } = this.queue.shift();\r\n      \r\n      try {\r\n        await fn();\r\n      } catch (error) {\r\n        console.error(\"Error in queue processing:\", error);\r\n        \r\n        // Implement retry with exponential backoff\r\n        if (retryCount < this.maxRetries) {\r\n          console.log(`Retrying request (attempt ${retryCount + 1} of ${this.maxRetries})...`);\r\n          \r\n          // Calculate backoff delay: 2^retryCount * 1000ms (1s, 2s, 4s, etc.)\r\n          const backoffDelay = Math.min(Math.pow(2, retryCount) * 1000, 10000);\r\n          \r\n          setTimeout(() => {\r\n            // Re-add the failed request to the queue with increased retry count\r\n            this.add(fn, false, retryCount + 1);\r\n          }, backoffDelay);\r\n        }\r\n      } finally {\r\n        this.running--;\r\n        \r\n        // Add a small delay between requests to prevent overwhelming the server\r\n        setTimeout(() => {\r\n          this.processQueue();\r\n        }, 100);\r\n      }\r\n    },\r\n    \r\n    // Clear the queue (useful when component unmounts)\r\n    clear() {\r\n      this.queue = [];\r\n    }\r\n  });\r\n\r\n  // Reference to track if the component is mounted\r\n  const isMounted = React.useRef(true);\r\n  \r\n  // Clear the request queue when component unmounts\r\n  useEffect(() => {\r\n    // Store a reference to the current queue for cleanup\r\n    const currentQueue = requestQueue.current;\r\n    \r\n    return () => {\r\n      isMounted.current = false;\r\n      currentQueue.clear();\r\n    };\r\n  }, []);\r\n  \r\n  // Create a memoized version of the preload function to avoid recreating it on every render\r\n  const preloadImage = useCallback(async (image) => {\r\n    if (!isMounted.current) return;\r\n    \r\n    setImageLoadingStates(prev => ({ ...prev, [image.id]: true }));\r\n    try {\r\n      await getImageDownloadLink(image.id);\r\n      if (!isMounted.current) return;\r\n      \r\n      console.log(`Preloaded image ${image.id}`);\r\n    } catch (err) {\r\n      if (!isMounted.current) return;\r\n      console.error(`Failed to preload image ${image.id}:`, err);\r\n    } finally {\r\n      if (isMounted.current) {\r\n        setImageLoadingStates(prev => ({ ...prev, [image.id]: false }));\r\n      }\r\n    }\r\n  }, [getImageDownloadLink]);\r\n\r\n  // Track if initial load has happened\r\n  const initialLoadRef = React.useRef(false);\r\n  \r\n  // Fetch user's images when component mounts or pagination changes\r\n  useEffect(() => {\r\n    // Skip if this is just a re-render and not a pagination change\r\n    if (initialLoadRef.current && \r\n        pagination.currentPage === 1 && \r\n        pagination.pageSize === 9 && \r\n        myImages.length > 0) {\r\n      return;\r\n    }\r\n    \r\n    // Set initial load flag\r\n    initialLoadRef.current = true;\r\n    \r\n    // Use a debounce mechanism to prevent multiple rapid calls\r\n    const timeoutId = setTimeout(async () => {\r\n      if (!isMounted.current) return;\r\n      \r\n      try {\r\n        // Load the current page of images\r\n        const response = await getMyImages(pagination.currentPage, pagination.pageSize);\r\n        if (!isMounted.current) return;\r\n        \r\n        const images = response.results || [];\r\n        console.log(`Loaded ${images.length} images for page ${pagination.currentPage}`);\r\n        \r\n        // Create a Set to track which images we've already started preloading\r\n        const preloadedImages = new Set();\r\n        \r\n        // Preload images sequentially using the request queue to limit concurrent requests\r\n        // Only preload visible images to reduce unnecessary requests\r\n        images.forEach(image => {\r\n          if (!isMounted.current) return;\r\n          \r\n          // Skip if we've already started preloading this image\r\n          if (preloadedImages.has(image.id)) {\r\n            return;\r\n          }\r\n          \r\n          // Mark this image as being preloaded\r\n          preloadedImages.add(image.id);\r\n          \r\n          requestQueue.current.add(async () => {\r\n            await preloadImage(image);\r\n          });\r\n        });\r\n      } catch (err) {\r\n        if (!isMounted.current) return;\r\n        console.error('Failed to load images:', err);\r\n      }\r\n    }, 300); // 300ms debounce delay\r\n    \r\n    // Cleanup function to cancel any pending operations if the dependencies change\r\n    return () => {\r\n      clearTimeout(timeoutId);\r\n      requestQueue.current.clear();\r\n    };\r\n  }, [\r\n    pagination.currentPage,\r\n    pagination.pageSize,\r\n    getMyImages,\r\n    preloadImage,\r\n    myImages.length\r\n  ]);\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  const handleDownload = async (imageId) => {\r\n    try {\r\n      // First try the direct download method\r\n      console.log(`Attempting direct download for image ${imageId}`);\r\n      setImageLoadingStates(prev => ({ ...prev, [imageId]: true }));\r\n      \r\n      const directResult = await downloadImageFile(imageId);\r\n      \r\n      if (directResult.success) {\r\n        console.log(`Direct download successful for image ${imageId}`);\r\n        \r\n        // If we got an objectUrl (blob), create a download link\r\n        if (directResult.objectUrl) {\r\n          // Create a temporary anchor element to trigger download\r\n          const link = document.createElement('a');\r\n          link.href = directResult.objectUrl;\r\n          link.setAttribute('download', `image-${imageId}.jpg`);\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n          \r\n          // Clean up the object URL to avoid memory leaks\r\n          setTimeout(() => URL.revokeObjectURL(directResult.objectUrl), 100);\r\n          \r\n          console.log(`Download initiated for image ${imageId} using blob`);\r\n        } \r\n        // If we got a fallback URL, open it in a new tab\r\n        else if (directResult.url) {\r\n          window.open(directResult.url, '_blank');\r\n          console.log(`Download initiated for image ${imageId} using fallback URL`);\r\n        }\r\n      } else {\r\n        // If direct download failed, fall back to the old method\r\n        console.log(`Direct download failed for image ${imageId}, falling back to link method`);\r\n        \r\n        const response = await getImageDownloadLink(imageId);\r\n        console.log(`Download link response for image ${imageId}:`, response);\r\n        \r\n        // Get the image from our state\r\n        const image = myImages.find(img => img.id === imageId);\r\n        if (!image) {\r\n          console.error(`Image ${imageId} not found in state`);\r\n          return;\r\n        }\r\n        \r\n        // Get the best available URL (local or public)\r\n        let downloadUrl;\r\n        if (response.data && response.data.ipfsUrls && response.data.ipfsUrls.local) {\r\n          downloadUrl = response.data.ipfsUrls.local;\r\n          console.log(`Using local URL from response: ${downloadUrl}`);\r\n        } else if (response.data && response.data.ipfsUrl) {\r\n          // Fallback to the original URL if the new structure isn't available\r\n          downloadUrl = response.data.ipfsUrl;\r\n          console.log(`Using original URL from response: ${downloadUrl}`);\r\n        } else {\r\n          // If no URL is available, construct one from the hash using our utility\r\n          const hash = (response.data && response.data.ipfsHash) || image.ipfs_hash;\r\n          const normalizedHash = normalizeIpfsHash(hash);\r\n          downloadUrl = normalizedHash ? `${LOCAL_GATEWAY}${normalizedHash}` : '';\r\n          console.log(`Constructed URL from hash: ${downloadUrl}`);\r\n        }\r\n        \r\n        // Create a temporary anchor element to trigger download\r\n        const link = document.createElement('a');\r\n        link.href = downloadUrl;\r\n        link.setAttribute('download', `image-${imageId}.jpg`);\r\n        link.setAttribute('target', '_blank');\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n        \r\n        console.log(`Download initiated for image ${imageId} using fallback method`);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to download image:', err);\r\n      alert('Failed to download image. Please try again later.');\r\n    } finally {\r\n      setImageLoadingStates(prev => ({ ...prev, [imageId]: false }));\r\n    }\r\n  };\r\n\r\n  // Memoize the refresh image handler to prevent recreation on each render\r\n  const handleRefreshImage = useCallback(async (image) => {\r\n    // Set loading state\r\n    setImageLoadingStates(prev => ({ ...prev, [image.id]: true }));\r\n    \r\n    try {\r\n      // Attempt to refresh the image by getting a new download link\r\n      await getImageDownloadLink(image.id);\r\n      console.log(`Successfully refreshed image ${image.id}`);\r\n    } catch (err) {\r\n      console.error(`Error refreshing image ${image.id}:`, err);\r\n    } finally {\r\n      setImageLoadingStates(prev => ({ ...prev, [image.id]: false }));\r\n    }\r\n  }, [getImageDownloadLink]);\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      \r\n      <div className=\"container\">\r\n        <div className=\"card\">\r\n          <h2>Welcome, {user?.username}!</h2>\r\n          <p>Role: {user?.role}</p>\r\n          \r\n          <div style={{ marginTop: '20px' }}>\r\n            <Link to=\"/upload\" className=\"btn\">Upload New Image</Link>\r\n            \r\n            <Link to=\"/analytics\" className=\"btn\" style={{ marginLeft: '10px' }}>Analytics</Link>\r\n\r\n            {user?.role === 'admin' && (\r\n              <>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <h3 style={{ marginTop: '30px' }}>My Images</h3>\r\n        \r\n        {loading && (\r\n          <div className=\"spinner\"></div>\r\n        )}\r\n        \r\n        {error && (\r\n          <div className=\"alert alert-danger\">{error}</div>\r\n        )}\r\n        \r\n        {!loading && myImages.length === 0 && (\r\n          <div className=\"card\">\r\n            <p>You haven't uploaded any images yet.</p>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"image-grid\" style={{ marginBottom: '20px' }}>\r\n          {myImages.map((image) => (\r\n            <div key={image.id} className=\"image-card\">\r\n              <div style={{ position: 'relative' }}>\r\n                {imageLoadingStates[image.id] ? (\r\n                  <div \r\n                    style={{ \r\n                      width: '100%', \r\n                      height: '200px',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      backgroundColor: '#f0f0f0',\r\n                      borderTopLeftRadius: '8px',\r\n                      borderTopRightRadius: '8px'\r\n                    }}\r\n                  >\r\n                    <div className=\"spinner\" style={{ width: '40px', height: '40px' }}></div>\r\n                  </div>\r\n                ) : (\r\n                  <img \r\n                    id={`img-${image.id}`}\r\n                    src={getIpfsUrl(image.ipfs_hash)}\r\n                    alt={`ID: ${image.id}`}\r\n                    style={{ \r\n                      width: '100%', \r\n                      height: '200px', \r\n                      objectFit: 'cover',\r\n                      borderTopLeftRadius: '8px',\r\n                      borderTopRightRadius: '8px'\r\n                    }}\r\n                    onError={(e) => {\r\n                      console.log(`Image ${image.id} failed to load, attempting to recover...`);\r\n                      \r\n                      // Set loading state\r\n                      setImageLoadingStates(prev => ({ ...prev, [image.id]: true }));\r\n                      \r\n                      // Call the refresh image function to attempt recovery\r\n                      handleRefreshImage(image);\r\n                    }}\r\n                  />\r\n                )}\r\n                {/* Add a refresh button to retry loading the image */}\r\n                <button \r\n                  style={{\r\n                    position: 'absolute',\r\n                    top: '5px',\r\n                    right: '5px',\r\n                    background: 'rgba(255, 255, 255, 0.7)',\r\n                    border: 'none',\r\n                    borderRadius: '50%',\r\n                    width: '30px',\r\n                    height: '30px',\r\n                    cursor: 'pointer',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center'\r\n                  }}\r\n                  onClick={() => handleRefreshImage(image)}\r\n                  title=\"Refresh image\"\r\n                  disabled={imageLoadingStates[image.id]}\r\n                >\r\n                  {imageLoadingStates[image.id] ? '⌛' : '↻'}\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"image-info\">\r\n                <h3>Image #{image.id}</h3>\r\n                <p>Hash: {image.sha256_hash.substring(0, 10)}...</p>\r\n                <p>Uploaded: {new Date(image.uploaded_at).toLocaleString()}</p>\r\n                <p>Deepfake: {image.deepfake_label} ({Math.round(image.deepfake_confidence * 100)}%)</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        {/* Pagination Controls */}\r\n        {!loading && myImages.length > 0 && (\r\n          <div className=\"pagination-controls\" style={{ \r\n            display: 'flex', \r\n            justifyContent: 'center', \r\n            alignItems: 'center', \r\n            margin: '20px 0 40px' \r\n          }}>\r\n            <button \r\n              className=\"btn\" \r\n              onClick={previousPage} \r\n              disabled={!pagination.hasPrevious}\r\n              style={{ \r\n                margin: '0 5px',\r\n                opacity: pagination.hasPrevious ? 1 : 0.5,\r\n                cursor: pagination.hasPrevious ? 'pointer' : 'not-allowed'\r\n              }}\r\n            >\r\n              &laquo; Previous\r\n            </button>\r\n            \r\n            <div style={{ margin: '0 15px' }}>\r\n              {/* Page numbers */}\r\n              {Array.from({ length: pagination.totalPages }, (_, i) => i + 1).map(page => (\r\n                <button\r\n                  key={page}\r\n                  onClick={() => goToPage(page)}\r\n                  style={{\r\n                    margin: '0 5px',\r\n                    padding: '5px 10px',\r\n                    border: page === pagination.currentPage ? '2px solid #007bff' : '1px solid #ccc',\r\n                    borderRadius: '4px',\r\n                    background: page === pagination.currentPage ? '#e6f2ff' : 'white',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  {page}\r\n                </button>\r\n              ))}\r\n            </div>\r\n            \r\n            <button \r\n              className=\"btn\" \r\n              onClick={nextPage} \r\n              disabled={!pagination.hasNext}\r\n              style={{ \r\n                margin: '0 5px',\r\n                opacity: pagination.hasNext ? 1 : 0.5,\r\n                cursor: pagination.hasNext ? 'pointer' : 'not-allowed'\r\n              }}\r\n            >\r\n              Next &raquo;\r\n            </button>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Pagination Info */}\r\n        {!loading && myImages.length > 0 && (\r\n          <div style={{ textAlign: 'center', marginBottom: '30px', color: '#666' }}>\r\n            Showing page {pagination.currentPage} of {pagination.totalPages} ({pagination.totalImages} total images)\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}